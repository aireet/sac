// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.11.2
//   protoc               v6.33.0
// source: sac/v1/history.proto

/* eslint-disable */

export const protobufPackage = "sac.v1";

export interface MessagePayload {
  role: string;
  content: string;
  uuid: string;
  timestamp: string;
}

export interface EventsRequest {
  user_id: string;
  agent_id: string;
  session_id: string;
  messages: MessagePayload[];
}

export interface EventsResponse {
  inserted: number;
}

export interface ConversationMessage {
  id: number;
  user_id: number;
  agent_id: number;
  session_id: string;
  role: string;
  content: string;
  message_uuid: string;
  timestamp?: string | undefined;
}

export interface ConversationListResponse {
  conversations: ConversationMessage[];
  count: number;
  has_more: boolean;
}

export interface SessionSummary {
  session_id: string;
  first_at?: string | undefined;
  last_at?: string | undefined;
  count: number;
}

export interface SessionListResponse {
  sessions: SessionSummary[];
}

export interface ListConversationsRequest {
  agent_id: number;
  session_id: string;
  limit: number;
  before: string;
  after: string;
}

export interface ListSessionsRequest {
  agent_id: number;
}

export interface HistoryService {
  /** Internal: receive events from pods (no auth) */
  ReceiveEvents(request: EventsRequest): Promise<EventsResponse>;
  /** Protected: query conversations */
  ListConversations(request: ListConversationsRequest): Promise<ConversationListResponse>;
  /** Protected: list sessions */
  ListSessions(request: ListSessionsRequest): Promise<SessionListResponse>;
}
